<md-toolbar *ngIf="!user.isRegistered()">
    <span>Register</span>
</md-toolbar>
<md-toolbar *ngIf="user.isRegistered()">
    <span class="flex">Profile</span>
    <button md-icon-button (click)="toggleEdit()"><md-icon>edit</md-icon></button>
</md-toolbar>
<form #f="ngForm">
    <md-list>
        <md-list-item>
            <md-input   #username
                        type="text"
                        [(ngModel)]="user.Username"
                        pattern=".{3,}"
                        ngControl="user.Username"
                        placeholder="Username"
                        (keyup.enter)="f.valid?save():return"
                        [disabled]="user.isRegistered() && !isEditEnabled()" >
            </md-input>
        </md-list-item>
        <md-list-item>
            <md-input   #age
                        type="number"
                        placeholder="Age"
                        ngControl="user.Age"
                        [(ngModel)]="user.Age"
                        (keyup.enter)="f.valid?save():return"
                        [disabled]="user.isRegistered() && !isEditEnabled()">
            </md-input>
        </md-list-item>
        <md-list-item>
            <md-radio-group #gender="ngForm"
                            name="userGender"
                            [(ngModel)]="user.Gender"
                            ngControl="user.Gender"
                            [disabled]="user.isRegistered() && !isEditEnabled()"
                            (keyup.enter)="f.valid?save():return">
                <md-radio-button *ngFor="let gender of genders" name="userGender" [value]="gender">
                    {{gender}}
                </md-radio-button>
            </md-radio-group>
        </md-list-item>
        <md-list-item>
            <md-input   #email
                        type="email"
                        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}"
                        placeholder="Email"
                        ngControl="user.Email"
                        [disabled]="user.isRegistered() && !isEditEnabled()"
                        [(ngModel)]="user.Email"
                        (keyup.enter)="f.valid?register():return" >
            </md-input>
        </md-list-item>
        <md-list-item *ngIf="!user.isRegistered()">
            <md-input   #password
                        type="password"
                        placeholder="Password"
                        pattern=".{3,}"
                        ngControl="user.Password"
                        [(ngModel)]="user.Password"
                        (keyup.enter)="f.valid?save():return" >
            </md-input>
        </md-list-item>
        <md-list-item>
            <button md-raised-button type="button" *ngIf="!user.isRegistered()" [disabled]="!f.valid" (click)="save()">Register</button>
            <button md-raised-button type="button" *ngIf="user.isRegistered() && isEditEnabled()" [disabled]="!f.valid" (click)="save()">Update</button>
        </md-list-item>
    </md-list>
</form>
